---
import { Image } from 'astro:assets';

interface Props {
    name?: string,
    techstack?: string[],
    summary?: string,
    github?: string,
    live?: string; 
}

const { name, techstack, summary, github, live } = Astro.props;

let techstackLink = []

if (techstack) {
    for (let i = 0; i < techstack.length; i++) {
        if (techstack[i] === 'ReactJS') {
            techstackLink.push("https://img.shields.io/badge/React-61DAFB.svg?style=for-the-badge&logo=React&logoColor=black");
        } else if (techstack[i] === 'NextJS') {
            techstackLink.push("https://img.shields.io/badge/Next.js-000000.svg?style=for-the-badge&logo=nextdotjs&logoColor=white");
        } else if (techstack[i] === 'TailwindCSS') {
            techstackLink.push("https://img.shields.io/badge/Tailwind%20CSS-06B6D4.svg?style=for-the-badge&logo=Tailwind-CSS&logoColor=white");
        } else if (techstack[i] === 'NodeJS') {
            techstackLink.push("https://img.shields.io/badge/Node.js-5FA04E.svg?style=for-the-badge&logo=nodedotjs&logoColor=white");
        } else if (techstack[i] === 'FastAPI') {
            techstackLink.push("https://img.shields.io/badge/FastAPI-009688.svg?style=for-the-badge&logo=FastAPI&logoColor=white");
        } else if (techstack[i] === 'Redux') {
            techstackLink.push("https://img.shields.io/badge/Redux-764ABC.svg?style=for-the-badge&logo=Redux&logoColor=white");
        } else if (techstack[i] === 'ExpressJS') {
            techstackLink.push("https://img.shields.io/badge/Express-000000.svg?style=for-the-badge&logo=Express&logoColor=white");
        } else if (techstack[i] === 'MongoDB') {
            techstackLink.push("https://img.shields.io/badge/MongoDB-47A248.svg?style=for-the-badge&logo=MongoDB&logoColor=white");
        } else if (techstack[i] === 'PostgreSQL') {
            techstackLink.push("https://img.shields.io/badge/PostgreSQL-4169E1.svg?style=for-the-badge&logo=PostgreSQL&logoColor=white");
        } else if (techstack[i] === 'Motion') {
            techstackLink.push("https://img.shields.io/badge/Framer-0055FF.svg?style=for-the-badge&logo=Framer&logoColor=white");
        } else if (techstack[i] === 'ChartJS') {
            techstackLink.push("https://img.shields.io/badge/Chart.js-FF6384.svg?style=for-the-badge&logo=chartdotjs&logoColor=white");
        } else if (techstack[i] === 'TypeScript') {
            techstackLink.push("https://img.shields.io/badge/TypeScript-3178C6.svg?style=for-the-badge&logo=TypeScript&logoColor=white");
        }
    }
}
---

<div class="flex justify-between lg:w-[62rem] border-b  p-1 py-4">
    <div class="flex flex-col">
        <p class="text-lg font-medium">{name}</p>
        <p class="text-sm font-light">{summary}</p>
        <div class="text-sm font-light italic my-2 flex gap-1">
            {
                techstackLink.map((tech) => (
                    <Image src={tech} alt="tech" height={80} width={80} loading="lazy" />
                ))
            }
        </div>
    </div>
    <div class="flex flex-col justify-center items-center gap-1">
        { 
            live && <a aria-label="link to live demo of the project" class="cursor-pointer underline underline-offset-2" href={live}>live</a>
        }
        {
            summary && <p class="cursor-pointer underline underline-offset-2">read</p>
        }
        {
            github && <a aria-label="link to github repository of the project" class="cursor-pointer underline underline-offset-2" href={github}>github</a>
        }
    </div>
</div>